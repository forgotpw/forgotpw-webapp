<div *ngIf="!showSuccess" class="container">
  <mat-card>
    <h2>Retrieve a password</h2>
    <form
      [formGroup]="retrieveForm"
      #retrieveFormDirective="ngForm"
      (ngSubmit)="onSubmit(retrieveFormDirective)">

      <div class="form-group">
        <div class="row">
          <div class="col-sm-4">
              We will text your password to this number (must be the same you used to store the password)
          </div>
          <div class="col-sm-8">
            <mat-form-field class="full-width">
              <input
                #phoneInput
                matInput
                placeholder="Your mobile phone number" 
                formControlName="phone"
                autocomplete="off"
                autofocus
                >
              <mat-hint></mat-hint>
              <mat-error *ngIf="f.phone.hasError('minlength') && !f.phone.hasError('required')">
                Must be at lest 10 charcters
              </mat-error>
              <mat-error *ngIf="f.phone.hasError('required')">
                Mobile phone number is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
  
      <div class="form-group">
        <div class="row">
          <div class="col-sm-4">
              Enter the website or application name for which you are retrieving the password, e.g. "Amazon".
          </div>
          <div class="col-sm-8">
            <mat-form-field class="full-width">
              <input
                matInput
                placeholder="Application" 
                formControlName="application"
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false">
              <mat-hint></mat-hint>
              <mat-error *ngIf="f.application.hasError('minlength') && !f.application.hasError('required')">
                Must be at lest 3 charcters
              </mat-error>
              <mat-error *ngIf="f.application.hasError('maxlength')">
                  Can be mo more than 100 charcters
              </mat-error>
              <mat-error *ngIf="f.application.hasError('required')">
                Application is <strong>required</strong>
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      
      <div class="button-row">
        <button
          mat-stroked-button
          type="submit"
          color="primary"
          [disabled]="!retrieveForm.valid">
          Submit
        </button>
        <button
          mat-stroked-button
          type="button"
          color="basic"
          (click)="onCancel()">
          Cancel
        </button>
      </div>

      <ngx-spinner
        bdColor = "rgba(51, 51, 51, 0.8)"
        size = "large"
        color = "#fff"
        type = "ball-pulse">
      </ngx-spinner>

    </form>
  </mat-card>
</div>

<div *ngIf="showSuccess" style="text-align:center">
  <p>
    <img src="assets/img/Comments-1s-200px.svg">
    <br/>
    <strong>Your password has been sent to you by SMS text message.</strong>
  </p>
  <br/>
</div>
  